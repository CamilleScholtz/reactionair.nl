{{ define "main" }}
	{{ $pages    := .RegularPages }}
	{{ $featured := slice }}
		
	{{ if .IsHome }}
		{{ $articles := where site.RegularPages "Type" "eq" "artikelen" }}
		{{ $pages     = where $articles "Title" "ne" .Params.Featured }}
		{{ $featured  = where $articles "Title" "eq" .Params.Featured }}
	{{ end }}

	{{ $paginator := .Paginate $pages }}

	<main id="list">
		{{ if .IsHome }}
			{{ partial "intro.html" . }}
		{{ else if eq .Section "auteurs" }}
			{{ partial "author.html" . }}
		{{ end }}		

		<div id="articles">
			{{ if eq $paginator.PageNumber 1 }}
				{{ range $featured }}
					{{ partial "article.html" (dict "Context" . "Featured" true) }}
				{{ end }}
			{{ end }}
		
			{{ range $paginator.Pages }}			
				{{ partial "article.html" (dict "Context" . "Featured" false) }}
			{{ end }}
		</div>

		{{ if gt $paginator.TotalPages 1 }}
			<nav class="paginator">
				{{ if $paginator.HasPrev }}
					<a class="prev" href="{{ $paginator.Prev.URL }}">←</a>
				{{ else }}
					<a class="prev disabled">←</a>
				{{ end }}

				{{ if $paginator.HasNext }}
					<a class="next" href="{{ $paginator.Next.URL }}">→</a>
				{{ else }}
					<a class="next disabled">→</a>
				{{ end }}
			</nav>
		{{ end }}
	</main>
{{ end }}
