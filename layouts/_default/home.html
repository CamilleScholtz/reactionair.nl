{{ define "main" }}
	{{ $themes   := slice "Politiek en Actualiteit" "Cultuur en Maatschappij" "Religie en Wijsbegeerte" "Onderzoek en Speurwerk" "Geschiedenis en Biografie" }}
	{{ $articles := where site.RegularPages "Params.theme" "in" $themes }}

	<section id="hero">
		<section class="left">
			<div class="scroll">
				<div class="mobile-featured scroll-item">
					{{ partial "articles/large.html" (dict
						"article" (index $articles 0)
					) }}
				</div>

				<div class="scroll-item">
					{{ partial "articles/large.html" (dict
						"article" (index $articles 1)
					) }}
				</div>

				<div class="scroll-item">
					{{ partial "articles/large.html" (dict
						"article" (index $articles 2)
					) }}
				</div>
			</div>
		</section>

		{{ partial "articles/featured.html" (dict
			"article" (index $articles 0)
		) }}

		<section class="right">
			<div class="header">
				<h2>Laatste <i>van</i> Reactionair.nl</h2>
			</div>

			<div class="articles">
				{{ partialCached "articles/small.html" (dict
					"article" (index $articles 3)
				) (index $articles 3).Params.id }}

				{{ partialCached "articles/small.html" (dict
					"article" (index $articles 4)
				) (index $articles 4).Params.id }}

				{{ partialCached "articles/small.html" (dict
					"article" (index $articles 5)
				) (index $articles 5).Params.id }}

				{{ partialCached "articles/small.html" (dict
					"article" (index $articles 6)
				) (index $articles 6).Params.id }}
			</div>
		</section>
	</section>

	<aside class="intro">
		<p class="text">“...”</p>
		<p class="author"><span class="dash">—</span> ...</p>

		<div class="links">
			<a href="/auteurs/">Auteurs</a>

			<span class="pipe">•</span>

			<a href="/winkel/producten/boeken">Winkel</a>
			
			<span class="pipe">•</span>
			
			<a href="/artikelen/wie-zijn-wij/">Wie zijn wij?</a>
		</div>
	</aside>

	{{ $articles = $articles | after 7 }}

	<section>
		{{ $themes := slice "Politiek en Actualiteit" "Religie en Wijsbegeerte" }}
		{{ $pages  := where $articles "Params.theme" "in" $themes }}

		{{ range $i, $theme := $themes }}
			{{ partial "articles/theme.html" (dict
				"section" "themes"
				"path"    "themas"
				"term"    $theme
				"pages"   (where $pages "Params.theme" "eq" $theme)
				"side"    (cond (eq (mod $i 2) 0) "right" "left")
			) }}
		{{ end }}
	</section>

	<section class="av">
		{{ $book := index (where (.GetPage "shop/products/boeken").RegularPages ".Params.title" site.Params.advert) 0 }}

		{{ with $book }}
			{{ partialCached "advert.html" (dict
				"book" .
			) .Params.id }}
		{{ end }}
	</section>

	<section>
		{{ $themes := slice "Onderzoek en Speurwerk" "Cultuur en Maatschappij" }}
		{{ $pages  := where $articles "Params.theme" "in" $themes }}

		{{ range $i, $theme := $themes }}
			{{ partial "articles/theme.html" (dict
				"section" "themes"
				"path"    "themas"
				"term"    $theme
				"pages"   (where $pages "Params.theme" "eq" $theme)
				"side"    (cond (eq (mod $i 2) 0) "right" "left")
			) }}
		{{ end }}
	</section>

	<section class="newsletter">
		{{ partialCached "newsletter.html" . }}
	</section>

	<section>
		{{ $themes   := slice "Geschiedenis en Biografie" "De Uylenspieghel" }}
		{{ $articles := where site.RegularPages "Params.theme" "in" $themes }}
		{{ $pages    := where $articles "Params.theme" "in" $themes }}

		{{ range $i, $theme := $themes }}
			{{ partial "articles/theme.html" (dict
				"section" "themes"
				"path"    "themas"
				"term"    $theme
				"pages"   (where $pages "Params.theme" "eq" $theme)
				"side"    (cond (eq (mod $i 2) 0) "right" "left")
			) }}
		{{ end }}
	</section>
{{ end }}
