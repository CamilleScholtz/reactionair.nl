{{ define "main" }}
	<div id="shop">
		<section id="hero">
			{{ partialCached "products/large.html" (dict
				"product" .
			) .Params.id }}
		</section>

		<article id="product">
			{{ $section := .CurrentSection.File.ContentBaseName }}
			{{ if or (eq $section "shop") (eq .Kind "term") }}
				{{ $section = "boeken" }}
			{{ end }}

			{{ if eq $section "boeken" }}
				<table>
					<tr>
						<th>Titel</th>
						<td><span>{{ .Params.title }}</span>{{ if isset .Params "subtitle" }}<br><span>{{ .Params.subtitle }}</span>{{ end }}</td>

						<th>Taal</th>
						<td><a href="/winkel/producten/boeken/talen/{{ urlize .Params.language }}">{{ .Params.language }}</a></td>
					</tr>

					<tr>
						<th>Auteur(s)</th>
						<td>
							{{ range $index, $writer := .Params.writers }}
								<a href="/winkel/producten/boeken/auteurs/{{ urlize $writer }}">{{ $writer }}</a>
								{{ if eq $index (sub (len $.Params.writers) 2) }}
									&amp;
								{{ else if ne (add $index 1) (len $.Params.writers) }}
									,
								{{ end }}
							{{ end }}
						</td>

						<th>Uitgever</th>
						<td><a href="/winkel/producten/boeken/uitgeverijen/{{ urlize .Params.publisher }}">{{ .Params.publisher }}</a></td>
					</tr>

					<tr>
						<th>Jaar</th>
						<td>{{ .Params.date.Format "2006" }}</td>

						<th>ISBN</th>
						<td>
							{{ range .Params.variants }}
								{{ .isbn }}<br>
							{{ end }}
						</td>
					</tr>

					<tr>
						<th>Aantal paginas</th>
						<td>{{ .Params.pages }}</td>

						<th>Formaat</th>
						<td>
							{{ range .Params.variants }}
								{{ .format | title }}<br>
							{{ end }}
						</td>
					</tr>
				</table>
			{{ end }}

			<section class="content">
				{{ .Content }}
			</section>
		</article>
	</div>
{{ end }}
